{
    "$schema": "orn.json",
    "type": "object",
    "required": [
        "intended_purpose"
    ],
    "allOf": [
        {
            "if": {
                "properties": {
                    "intended_purpose": "LIB"
                }
            },
            "then": {
                "required": [
                    "cd_identifier",
                    "library"
                ]
            }
        },
        {
            "if": {
                "properties": {
                    "intended_purpose": "FIL"
                }
            },
            "then": {
                "required": [
                    "production_title"
                ]
            }
        }
    ],
    "properties": {
        "intended_purpose": {
            "description": "Indicates the type of production from which this work originated. These values reside in the Intended Purpose Table.",
            "type": "string",
            "maxLength": "3"
        },
        "cd_identifier": {
            "description": "If Intended Purpose is equal to LIB (Library Work), enter the identifier associated with the CD upon which the work appears.  The value “INTERNET” should be used if the release is internet only and no such reference exists.",
            "type": "string",
            "maxLength": "15"
        },
        "cut_number": {
            "description": "If Intended Purpose is equal to LIB (Library Work), enter the track number on the CD Identifier where the work appears.",
            "type": "Number",
            "maximum": "9999"
        },
        "library": {
            "description": "The library from which this work originated.",
            "type": "string",
            "maxLength": "60"
        },
        "production_title": {
            "description": "Name of the production in which this work was used. ",
            "type": "string",
            "maxLength": "60"
        },
        "bltvr": {
            "description": "An indication of the primary use of the work within the AV production. The definitive source for cue usage is the cue sheet. These values reside on the BLTVR  Code Table.",
            "type": "string",
            "maxLength": "1"
        },
        "production_number": {
            "description": "The number generated by the production company to identify the work.",
            "type": "string",
            "maxLength": "12"
        },
        "episode_title": {
            "description": "Title of the episode from which this work originated.",
            "type": "string",
            "maxLength": "60"
        },
        "episode_number": {
            "description": "Number assigned to the episode by the producer.",
            "type": "string",
            "maxLength": "20"
        },
        "year_of_production": {
            "description": "The year in which the production of the film or episode was completed.",
            "type": "number",
            "maximum": "9999"
        },
        "avi_key": {
            "description": "Combined \"owning\" Society code & Audio-Viusal Number",
            "type": "string",
            "maxLength": "19"
        },
        "visan": {
            "description": "V-ISAN unique identifier for audio-visual production in which this work is first used",
            "type": "string / International Standard",
            "maxLength": "26"
        },
        "eidr": {
            "description": "Combined Root & check number",
            "type": "string",
            "maxLength": "21"
        },
        "version_name": {
            "description": "The title or description of the particular version to which the specific ISAN or EIDR relates.",
            "type": "string",
            "maxLength": "40"
        }
    }
}
